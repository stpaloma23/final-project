var I=Object.defineProperty;var x=(h,n,o)=>n in h?I(h,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):h[n]=o;var s=(h,n,o)=>(x(h,typeof n!="symbol"?n+"":n,o),o);import{S as L,P as S,g as z,a as j,A as O,O as P,M as p,b as c,D as f,c as W,d as A,e as E,T as R,f as C,h as G,i as $,G as F,W as H,j as V,R as B,V as N}from"./vendor.bd3cf6cf.js";const k=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}};k();class q{constructor(n,o){s(this,"scene");s(this,"camera");s(this,"renderer");s(this,"model");this.scene=new L,this.camera=new S(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=50,this.renderer=o,this.model=n}update(n){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}class D extends q{constructor(n,o){super(n,o);s(this,"paloma");s(this,"stars");s(this,"tl");s(this,"lightPoint");s(this,"lightAmbient");s(this,"lightPoint2");s(this,"colorPalette",[16766720,16448210,12632256,16766720,16445630,15392968,16766720,15922164,16247182,12889773,16309886]);s(this,"starsizes",[1,.7,1,.5,.6,1]);s(this,"sizeInd",0);s(this,"colorInd",0);s(this,"outsideE");this.stars=[],this.tl=z.timeline(),this.lightPoint=new j(16777215),this.lightPoint.intensity=.8,this.lightPoint.position.set(0,0,-25),this.lightPoint.castShadow=!1,this.lightPoint2=this.lightPoint.clone(),this.lightPoint2.position.set(0,0,25),this.lightPoint2.intensity=.8,this.lightPoint2.castShadow=!1,this.scene.add(this.lightPoint2),this.scene.add(this.lightPoint),this.lightAmbient=new O(16777215),this.lightAmbient.intensity=.2,this.scene.add(this.lightAmbient),this.loadingObjects(),console.log(this.stars.length);for(let i=0;i<25;i++){this.sizeInd>this.starsizes.length-1&&(this.sizeInd=0),this.colorInd>this.colorPalette.length-1&&(this.colorInd=0);var a=new P(2),e=new p({color:16766720,shininess:100}),t=new c(a,e);this.tl.to(t.position,{x:Math.cos(i/25*Math.PI*2)*20,y:Math.sin(i/25*Math.PI*2)*20,duration:2,ease:"bounce.out",yoyo:!0},`${i/4}`);var r=new f(3),e=new p({color:16448210,shininess:100}),w=new c(r,e);this.tl.to(w.position,{x:Math.cos(i/25*Math.PI*2)*30,y:Math.sin(i/25*Math.PI*2)*30,duration:2,ease:"bounce.out",yoyo:!0},`${i/4}`);var r=new f(1),e=new p({color:16448210,shininess:100}),m=new c(r,e);this.tl.to(m.position,{x:Math.cos(i/20*Math.PI*2)*10,y:Math.sin(i/20*Math.PI*2)*10,duration:2,ease:"bounce.out",yoyo:!0},`${i/4}`);var a=new P(4),e=new p({color:16766720,shininess:100}),g=new c(a,e);this.tl.to(g.position,{x:Math.cos(i/25*Math.PI*2)*40,y:Math.sin(i/25*Math.PI*2)*40,duration:2,ease:"bounce.out",yoyo:!0},`${i/4}`);var r=new f(5),e=new p({color:16448210,shininess:100}),y=new c(r,e);this.tl.to(y.position,{x:Math.cos(i/20*Math.PI*2)*50,y:Math.sin(i/20*Math.PI*2)*50,duration:2,ease:"bounce.out",yoyo:!0},`${i/4}`),this.colorInd++,this.sizeInd++,this.scene.add(t,w,g,y,m),this.stars.push(t,w,g,y,m)}this.stars.forEach((i,u)=>{this.tl.to(i.position,{x:Math.cos(u/30*Math.PI*2-Math.PI)*10,duration:.1,ease:"sine.out",yoyo:!0}),u++}),this.stars.forEach((i,u)=>{u%2==0?(this.tl.to(i.position,{x:100,y:-100,duration:.3,stagger:.1}),this.tl.to(i.position,{x:-100,y:100,duration:.3,stagger:.1}),this.tl.to(i.position,{x:Math.random()*(60- -60)+-60,y:Math.random()*(50- -50)+-50})):(this.tl.to(i.position,{x:-100,y:100,duration:.3,stagger:.1}),this.tl.to(i.position,{x:100,y:-100,duration:.3,stagger:.1}),this.tl.to(i.position,{x:Math.random()*(60- -60)+-60,y:Math.random()*(50- -50)+-50})),u++}),console.log(this.stars.length)}loadingObjects(){new W().load("3dobj/paloma_standing.mtl",a=>{a.preload();for(const t of Object.values(a.materials))t.side=A;const e=new E;e.setMaterials(a),e.load("3dobj/paloma_standing.obj",t=>{this.paloma=t,t.name="paloma",t.position.y=-5,t.scale.set(7,7,7),t.rotateY(270),t.position.z=4,this.scene.add(t)})});var o=new R;o.load("3dobj/earth.jpeg",a=>{var e=new C(25),t=new G({map:a}),r=new c(e,t);r.position.y=-30,r.position.z=4,this.outsideE=r,this.scene.add(r)})}animate(){requestAnimationFrame(this.animate);var n=this.scene.getObjectByName("paloma");n&&(n.rotation.x+=.01),this.renderer.render(this.scene,this.camera)}}let M={groupX:0,groupY:0,groupAngle:0,activeView:1,pointerPosition:new N(0,0)},l,v,d;function T(){X(),Y(),U(),_()}function Y(){v=new $,document.body.appendChild(v.dom)}function U(){const h=new F;let n={position:0,play:()=>{d.tl.play()},pause:()=>{d.tl.pause()},restart:()=>{d.tl.pause(),d.tl.seek(0),d.tl.play()}};const o=h.addFolder("timeline");o.open(),o.add(n,"position",0,250,.01).onChange(a=>{d.tl.pause(),d.tl.seek(a)}),o.add(n,"play"),o.add(n,"pause"),o.add(n,"restart")}function X(){l=new H,l.shadowMap.enabled=!0,l.shadowMap.type=V,l.setPixelRatio(window.devicePixelRatio),l.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(l.domElement),d=new D(M,l),new B,b()}function _(){window.addEventListener("resize",J,!1),window.addEventListener("pointermove",K)}function J(){d.onWindowResize()}function K(h){M.pointerPosition.x=h.clientX/window.innerWidth*2-1,M.pointerPosition.y=-(h.clientY/window.innerHeight)*2+1}function b(){requestAnimationFrame(()=>{b()}),l.render(d.scene,d.camera)}T();
