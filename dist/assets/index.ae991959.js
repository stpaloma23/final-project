var j=Object.defineProperty;var C=(a,n,s)=>n in a?j(a,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[n]=s;var h=(a,n,s)=>(C(a,typeof n!="symbol"?n+"":n,s),s);import{S as O,P as W,g as z,a as A,A as R,O as L,M as w,b as p,D as b,c as k,d as G,e as $,T as H,f as V,h as F,i as B,G as D,W as N,j as T,R as Y,V as q}from"./vendor.bd3cf6cf.js";const U=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerpolicy&&(e.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?e.credentials="include":o.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(o){if(o.ep)return;o.ep=!0;const e=s(o);fetch(o.href,e)}};U();class X{constructor(n,s){h(this,"scene");h(this,"camera");h(this,"renderer");h(this,"model");this.scene=new O,this.camera=new W(75,window.innerWidth/window.innerHeight,.1,1e3),this.camera.position.z=50,this.renderer=s,this.model=n}update(n){}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}}class _ extends X{constructor(n,s){super(n,s);h(this,"paloma");h(this,"stars");h(this,"tl");h(this,"lightPoint");h(this,"lightAmbient");h(this,"lightPoint2");h(this,"outsideE");this.stars=[],this.tl=z.timeline(),this.lightPoint=new A(16777215),this.lightPoint.intensity=.8,this.lightPoint.position.set(0,0,-25),this.lightPoint.castShadow=!1,this.lightPoint2=this.lightPoint.clone(),this.lightPoint2.position.set(0,0,25),this.lightPoint2.intensity=.8,this.lightPoint2.castShadow=!1,this.scene.add(this.lightPoint2),this.scene.add(this.lightPoint),this.lightAmbient=new R(16777215),this.lightAmbient.intensity=.2,this.scene.add(this.lightAmbient),this.loadingObjects(),console.log(this.stars.length);let r=[],o=[],e=[],l=[],I=[];for(let t=0;t<25;t++){var x=new L(2),c=new w({color:16766720,shininess:100}),y=new p(x,c);o.push(y),this.tl.to(y.position,{x:Math.cos(t/25*Math.PI*2)*20,y:Math.sin(t/25*Math.PI*2)*20,duration:2,ease:"bounce.out",yoyo:!0},`${t/4}`);var g=new b(3),c=new w({color:16448210,shininess:100}),M=new p(g,c);e.push(M),this.tl.to(M.position,{x:Math.cos(t/25*Math.PI*2)*30,y:Math.sin(t/25*Math.PI*2)*30,duration:2,ease:"bounce.out",yoyo:!0},`${t/4}`);var g=new b(1),c=new w({color:16448210,shininess:100}),m=new p(g,c);r.push(m),this.tl.to(m.position,{x:Math.cos(t/25*Math.PI*2)*10,y:Math.sin(t/25*Math.PI*2)*10,duration:2,ease:"bounce.out",yoyo:!0},`${t/4}`);var x=new L(4),c=new w({color:16766720,shininess:100}),f=new p(x,c);l.push(f),this.tl.to(f.position,{x:Math.cos(t/25*Math.PI*2)*40,y:Math.sin(t/25*Math.PI*2)*40,duration:2,ease:"bounce.out",yoyo:!0},`${t/4}`);var g=new b(5),c=new w({color:16448210,shininess:100}),P=new p(g,c);I.push(P),this.tl.to(P.position,{x:Math.cos(t/25*Math.PI*2)*50,y:Math.sin(t/25*Math.PI*2)*50,duration:2,ease:"bounce.out",yoyo:!0},`${t/4}`),this.scene.add(y,M,f,P,m),this.stars.push(y,M,f,P,m)}this.stars.forEach((t,i)=>{this.tl.to(t.position,{x:Math.cos(i/30*Math.PI*2-Math.PI)*10,duration:.1,ease:"sine.out",yoyo:!0}),i++}),this.stars.forEach((t,i)=>{i%2==0?(this.tl.to(t.position,{x:100,y:-100,duration:.1,stagger:.3,ease:"back.in"}),this.tl.to(t.position,{x:-100,y:100,duration:.1,stagger:.3,ease:"back.in"}),this.tl.to(t.position,{x:Math.random()*(60- -60)+-60,y:Math.random()*(50- -50)+-50})):(this.tl.to(t.position,{x:-100,y:100,duration:.1,stagger:.1,ease:"back.in"}),this.tl.to(t.position,{x:100,y:-100,duration:.1,stagger:.1,ease:"back.in"}),this.tl.to(t.position,{x:Math.random()*(60- -60)+-60,y:Math.random()*(50- -50)+-50})),i++}),r.forEach((t,i)=>{this.tl.to(t.scale,{x:5,y:5,duration:.1,stagger:.3,ease:"expo.out"}),this.tl.to(t.position,{x:Math.cos(i/25*Math.PI*2)*10,y:Math.sin(i/25*Math.PI*2)*10}),i++}),o.forEach((t,i)=>{this.tl.to(t.scale,{x:5,y:5,duration:.1,stagger:.3,ease:"expo.out"}),this.tl.to(t.position,{x:Math.cos(i/25*Math.PI*2)*20,y:Math.sin(i/25*Math.PI*2)*20}),i++}),e.forEach((t,i)=>{this.tl.to(t.scale,{x:3,y:3,duration:.1,stagger:.3,ease:"expo.out"}),this.tl.to(t.position,{x:Math.cos(i/25*Math.PI*2)*30,y:Math.sin(i/25*Math.PI*2)*30}),i++}),l.forEach((t,i)=>{this.tl.to(t.scale,{x:3,y:3,duration:.1,stagger:.3,ease:"expo.out"}),this.tl.to(t.position,{x:Math.cos(i/25*Math.PI*2)*40,y:Math.sin(i/25*Math.PI*2)*40}),i++}),I.forEach((t,i)=>{this.tl.to(t.scale,{x:3,y:3,duration:.1,stagger:.3,ease:"expo.out"}),this.tl.to(t.position,{x:Math.cos(i/25*Math.PI*2)*50,y:Math.sin(i/25*Math.PI*2)*50}),i++}),this.stars.forEach(t=>{this.tl.to(t.scale,{x:0,y:0,duration:.2})}),console.log(this.stars.length)}loadingObjects(){new k().load("3dobj/paloma_standing.mtl",r=>{r.preload();for(const e of Object.values(r.materials))e.side=G;const o=new $;o.setMaterials(r),o.load("3dobj/paloma_standing.obj",e=>{this.paloma=e,e.name="paloma",e.position.y=-5,e.scale.set(7,7,7),e.rotateY(270),e.position.z=4,this.scene.add(e)})});var s=new H;s.load("3dobj/earth.jpeg",r=>{var o=new V(25),e=new F({map:r}),l=new p(o,e);l.position.y=-30,l.position.z=4,this.outsideE=l,this.scene.add(l)})}}let v={groupX:0,groupY:0,groupAngle:0,activeView:1,pointerPosition:new q(0,0)},u,S,d;function J(){Z(),K(),Q(),tt()}function K(){S=new B,document.body.appendChild(S.dom)}function Q(){const a=new D;let n={position:0,play:()=>{d.tl.play()},pause:()=>{d.tl.pause()},restart:()=>{d.tl.pause(),d.tl.seek(0),d.tl.play()}};const s=a.addFolder("timeline");s.open(),s.add(n,"position",0,250,.01).onChange(r=>{d.tl.pause(),d.tl.seek(r)}),s.add(n,"play"),s.add(n,"pause"),s.add(n,"restart")}function Z(){u=new N,u.shadowMap.enabled=!0,u.shadowMap.type=T,u.setPixelRatio(window.devicePixelRatio),u.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(u.domElement),d=new _(v,u),new Y,E()}function tt(){window.addEventListener("resize",et,!1),window.addEventListener("pointermove",it)}function et(){d.onWindowResize()}function it(a){v.pointerPosition.x=a.clientX/window.innerWidth*2-1,v.pointerPosition.y=-(a.clientY/window.innerHeight)*2+1}function E(){requestAnimationFrame(()=>{E()}),u.render(d.scene,d.camera)}J();
